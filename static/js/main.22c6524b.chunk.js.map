{"version":3,"sources":["Person.js","PeopleTable.js","App.js","index.js"],"names":["Person","_ref","item","_useState","useState","_useState2","Object","slicedToArray","selectedTr","setSelectedTr","location","useLocation","useEffect","react_default","a","createElement","className","cn","sex","onClick","id","react_router_dom","to","concat","name","split","join","search","born","died","Math","ceil","mother","father","PeopleTable","people","sortPeople","map","key","src_Person","App","history","useHistory","searchParams","URLSearchParams","setPeopleArr","sortBy","get","searchNameQuery","_useState3","_useState4","searchName","setSerchName","_useState5","_useState6","selectedButton","setValueButton","changeName","event","query","target","value","trimLeft","set","push","toString","select","toConsumableArray","sort","b","localeCompare","arrReverse","reverse","peopleArr","regenerator_default","async","_context","prev","next","awrap","fetch","then","responce","json","sent","index","objectSpread2","stop","getPeople","Fragment","react_router","path","exact","render","type","onChange","src_PeopleTable","arr","filter","toLowerCase","includes","trim","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.22c6524b.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropType from 'prop-types';\nimport cn from 'classnames';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nconst Person = ({ item }) => {\n  const [selectedTr, setSelectedTr] = useState('');\n  const location = useLocation();\n\n  useEffect(() => {\n  }, [selectedTr]);\n\n  return (\n    <tr\n      className={\n        cn(\n          item.sex === 'f' ? 'Person--female' : 'Person--male',\n        )\n      }\n      onClick={() => setSelectedTr(item.id)}\n    >\n      <td>{item.id}</td>\n      <NavLink\n        to={`/table/${item.name.split(' ').join('-')}${location.search}`}\n      >\n        <td className={item.born < 1650\n          ? 'Person Person--decoration' : 'Person'}\n        >\n          {item.name}\n        </td>\n      </NavLink>\n      <td>{item.sex}</td>\n      <td>{item.born}</td>\n      <td>{item.died}</td>\n      <td className={item.died - item.born >= 65\n        ? 'Person--green' : ''}\n      >\n        {item.died - item.born}\n      </td>\n      <td className={`Person--lived-in-${Math.ceil(item.died / 100)}`}>\n        {Math.ceil(item.died / 100)}\n      </td>\n      <td>{item.mother}</td>\n      <td>{item.father}</td>\n    </tr>\n  );\n};\n\nPerson.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  item: PropType.object.isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Person from './Person';\n\nconst PeopleTable = ({ people, sortPeople }) => (\n\n  <table>\n    <thead>\n      <tr>\n        <th\n          onClick={() => sortPeople('id')}\n        >\n          id\n        </th>\n        <th\n          onClick={() => sortPeople('name')}\n        >\n        name\n        </th>\n        <th\n          onClick={() => sortPeople('sex')}\n        >\n          sex\n        </th>\n        <th\n          onClick={() => sortPeople('born')}\n        >\n          born\n        </th>\n        <th\n          onClick={() => sortPeople('died')}\n        >\n          died\n        </th>\n        <th\n          onClick={() => sortPeople('age')}\n        >\n          age\n        </th>\n        <th\n          onClick={() => sortPeople('centery')}\n        >\n          century\n        </th>\n        <th>mother</th>\n        <th>father</th>\n      </tr>\n    </thead>\n    {people.map(item => (\n      <tbody key={item.name}>\n        <Person item={item} />\n      </tbody>\n    ))}\n  </table>\n\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n  sortPeople: PropTypes.func.isRequired,\n};\n\nexport default PeopleTable;\n","import React, { useState, useEffect } from 'react';\nimport './style.scss';\nimport { Route, Link, useLocation, useHistory } from 'react-router-dom';\nimport PeopleTable from './PeopleTable';\n\nconst URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nconst loadPeople = () => fetch(URL).then(responce => responce.json());\n\nconst App = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(location.search);\n  const [people, setPeopleArr] = useState([]);\n\n  const sortBy = searchParams.get('sortBy');\n  const searchNameQuery = searchParams.get('query') || '';\n  const [searchName, setSerchName] = useState(searchNameQuery);\n  const [selectedButton, setValueButton] = useState('');\n\n  useEffect(() => {\n    setSerchName(searchNameQuery);\n    sortPeople(sortBy);\n  }, [searchNameQuery, sortBy]);\n\n  const setCurrentQuery = (query) => {\n    searchParams.set('query', query);\n    history.push({ search: searchParams.toString() });\n  };\n\n  const getPeople = async() => {\n    const peopleArr = await loadPeople();\n\n    setPeopleArr(peopleArr.map((item, index) => (\n      {\n        ...item, id: index + 1,\n      }\n    )));\n  };\n\n  const changeName = (event) => {\n    setSerchName(event.target.value.trimLeft());\n    setCurrentQuery(event.target.value.trimLeft());\n  };\n\n  const filterPeople = (arr, search) => arr.filter((item) => {\n    if ((item.mother + item.father + item.name)\n      .toLowerCase().includes(search.toLowerCase().trim())) {\n      return item;\n    }\n\n    return false;\n  });\n\n  const sortPeople = (select) => {\n    searchParams.set('sortBy', select);\n    history.push({ search: searchParams.toString() });\n    switch (select) {\n      case 'name':\n      case 'sex':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => a[select].localeCompare(b[select])));\n          setValueButton(select);\n        }\n\n        break;\n      case 'died':\n      case 'born':\n      case 'id':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => a[select] - b[select]));\n          setValueButton(select);\n        }\n\n        break;\n\n      case 'age':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => (a.died - a.born) - (b.died - b.born)));\n          setValueButton('age');\n        }\n\n        break;\n      case 'centery':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => (\n              Math.ceil(a.died / 100)) - (Math.ceil(b.died / 100))));\n          setValueButton('centery');\n        }\n\n        break;\n      default: setPeopleArr([...people]);\n    }\n\n    if (select === selectedButton) {\n      const arrReverse = [...people].reverse();\n\n      setPeopleArr(arrReverse);\n    }\n  };\n\n  useEffect(() => {\n    getPeople();\n  }, []);\n\n  return (\n    <>\n      <Route\n        path=\"/\"\n        exact\n        render={() => (\n          <Link\n            to=\"/table\"\n            className=\"linkGo\"\n          >\n            <h2>Go to table</h2>\n          </Link>\n        )}\n      />\n      <Route\n        path=\"/table/:name?\"\n        render={() => (\n          <div className=\"table\">\n            <h1 className=\"table__title\">People table</h1>\n            <div className=\"serch\">\n              <h3 className=\"serch__title\">Serch name:</h3>\n              <input\n                type=\"text\"\n                className=\"serch__input\"\n                value={searchName}\n                onChange={(event) => {\n                  changeName(event);\n                }}\n              />\n            </div>\n            <PeopleTable\n              people={filterPeople(people, searchNameQuery)}\n\n              sortPeople={sortPeople}\n            />\n          </div>\n        )}\n      />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
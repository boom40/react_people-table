{"version":3,"sources":["Person.js","PeopleTable.js","App.js","index.js"],"names":["Person","_ref","item","_useState","useState","_useState2","Object","slicedToArray","selectedTr","setSelectedTr","useEffect","react_default","a","createElement","className","cn","sex","onClick","id","react_router_dom","to","concat","name","split","join","born","died","Math","ceil","mother","father","PeopleTable","people","sortPeople","map","key","src_Person","App","location","useLocation","history","useHistory","searchParams","URLSearchParams","search","setPeopleArr","searchNameQuery","get","_useState3","_useState4","searchName","setSerchName","_useState5","_useState6","selectedButton","setValueButton","changeName","event","query","target","value","trimLeft","set","push","toString","select","toConsumableArray","sort","b","localeCompare","arrReverse","reverse","peopleArr","regenerator_default","async","_context","prev","next","awrap","fetch","then","responce","json","sent","index","objectSpread2","stop","getPeople","Fragment","react_router","path","exact","render","type","onChange","src_PeopleTable","arr","filter","toLowerCase","includes","trim","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.94fd8ed3.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropType from 'prop-types';\nimport cn from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nconst Person = ({ item }) => {\n  const [selectedTr, setSelectedTr] = useState('');\n\n  useEffect(() => {\n  }, [selectedTr]);\n\n  return (\n    <tr\n      className={\n        cn(\n          item.sex === 'f' ? 'Person--female' : 'Person--male',\n        )\n      }\n      onClick={() => setSelectedTr(item.id)}\n    >\n      <td>{item.id}</td>\n      <NavLink\n        to={`/table/${item.name.split(' ').join('-')}`}\n      >\n        <td className={item.born < 1650\n          ? 'Person Person--decoration' : 'Person'}\n        >\n          {item.name}\n        </td>\n      </NavLink>\n      <td>{item.sex}</td>\n      <td>{item.born}</td>\n      <td>{item.died}</td>\n      <td className={item.died - item.born >= 65\n        ? 'Person--green' : ''}\n      >\n        {item.died - item.born}\n      </td>\n      <td className={`Person--lived-in-${Math.ceil(item.died / 100)}`}>\n        {Math.ceil(item.died / 100)}\n      </td>\n      <td>{item.mother}</td>\n      <td>{item.father}</td>\n    </tr>\n  );\n};\n\nPerson.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  item: PropType.object.isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Person from './Person';\n\nconst PeopleTable = ({ people, sortPeople }) => (\n\n  <table>\n    <thead>\n      <tr>\n        <th\n          onClick={() => sortPeople('id')}\n        >\n          id\n        </th>\n        <th\n          onClick={() => sortPeople('name')}\n        >\n        name\n        </th>\n        <th\n          onClick={() => sortPeople('sex')}\n        >\n          sex\n        </th>\n        <th\n          onClick={() => sortPeople('born')}\n        >\n          born\n        </th>\n        <th\n          onClick={() => sortPeople('died')}\n        >\n          died\n        </th>\n        <th\n          onClick={() => sortPeople('age')}\n        >\n          age\n        </th>\n        <th\n          onClick={() => sortPeople('centery')}\n        >\n          century\n        </th>\n        <th>mother</th>\n        <th>father</th>\n      </tr>\n    </thead>\n    {people.map(item => (\n      <tbody key={item.name}>\n        <Person item={item} />\n      </tbody>\n    ))}\n  </table>\n\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n  sortPeople: PropTypes.func.isRequired,\n};\n\nexport default PeopleTable;\n","import React, { useState, useEffect } from 'react';\nimport './style.scss';\nimport { Route, Link, useLocation, useHistory } from 'react-router-dom';\nimport PeopleTable from './PeopleTable';\n\nconst URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nconst loadPeople = () => fetch(URL).then(responce => responce.json());\n\nconst App = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(location.search);\n  const [people, setPeopleArr] = useState([]);\n\n  const searchNameQuery = searchParams.get('query') || '';\n  const [searchName, setSerchName] = useState(searchNameQuery);\n  const [selectedButton, setValueButton] = useState('');\n\n  useEffect(() => {\n    setSerchName(searchNameQuery);\n  }, [searchNameQuery]);\n\n  const setCurrentQuery = (query) => {\n    searchParams.set('query', query);\n    history.push({ search: searchParams.toString() });\n  };\n\n  const getPeople = async() => {\n    const peopleArr = await loadPeople();\n\n    setPeopleArr(peopleArr.map((item, index) => (\n      {\n        ...item, id: index + 1,\n      }\n    )));\n  };\n\n  const changeName = (event) => {\n    setSerchName(event.target.value.trimLeft());\n    setCurrentQuery(event.target.value.trimLeft());\n  };\n\n  const filterPeople = (arr, search) => arr.filter((item) => {\n    if ((item.mother + item.father + item.name)\n      .toLowerCase().includes(search.toLowerCase().trim())) {\n      return item;\n    }\n\n    return false;\n  });\n\n  const sortPeople = (select) => {\n    switch (select) {\n      case 'name':\n      case 'sex':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => a[select].localeCompare(b[select])));\n          setValueButton(select);\n        }\n\n        break;\n      case 'died':\n      case 'born':\n      case 'id':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => a[select] - b[select]));\n          setValueButton(select);\n        }\n\n        break;\n\n      case 'age':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => (a.died - a.born) - (b.died - b.born)));\n          setValueButton('age');\n        }\n\n        break;\n      case 'centery':\n        if (select !== selectedButton) {\n          setPeopleArr([...people]\n            .sort((a, b) => (\n              Math.ceil(a.died / 100)) - (Math.ceil(b.died / 100))));\n          setValueButton('centery');\n        }\n\n        break;\n      default: setPeopleArr([...people]);\n    }\n\n    searchParams.set('sortBy', select);\n    history.push({ search: searchParams.toString() });\n\n    if (select === selectedButton) {\n      const arrReverse = [...people].reverse();\n\n      setPeopleArr(arrReverse);\n    }\n  };\n\n  useEffect(() => {\n    getPeople();\n  }, []);\n\n  return (\n    <>\n      <Route\n        path=\"/\"\n        exact\n        render={() => (\n          <Link\n            to=\"/table\"\n            className=\"linkGo\"\n          >\n            <h2>Go to table</h2>\n          </Link>\n        )}\n      />\n      <Route\n        path=\"/table/:name?\"\n        render={() => (\n          <div className=\"table\">\n            <h1 className=\"table__title\">People table</h1>\n            <div className=\"serch\">\n              <h3 className=\"serch__title\">Serch name:</h3>\n              <input\n                type=\"text\"\n                className=\"serch__input\"\n                value={searchName}\n                onChange={(event) => {\n                  changeName(event);\n                }}\n              />\n            </div>\n            <PeopleTable\n              people={filterPeople(people, searchNameQuery)}\n\n              sortPeople={sortPeople}\n            />\n          </div>\n        )}\n      />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}